# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ú©Ø§Ù…Ù„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø³ÛŒØ³ØªÙ… BI Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡

## ðŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

1. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø¯ÛŒØªØ§Ø¨ÛŒØ³)
2. [Ø¯ÛŒØªØ§Ø¨ÛŒØ³ access_control.db](#Ø¯ÛŒØªØ§Ø¨ÛŒØ³-access_controldb)
3. [Ø¯ÛŒØªØ§Ø¨ÛŒØ³ faculty_data.db](#Ø¯ÛŒØªØ§Ø¨ÛŒØ³-faculty_datadb)
4. [Ø±ÙˆØ§Ø¨Ø· Ø¨ÛŒÙ† Ø¬Ø¯Ø§ÙˆÙ„](#Ø±ÙˆØ§Ø¨Ø·-Ø¨ÛŒÙ†-Ø¬Ø¯Ø§ÙˆÙ„)
5. [Index Ù‡Ø§](#index-Ù‡Ø§)
6. [Query Ù‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡](#query-Ù‡Ø§ÛŒ-Ù†Ù…ÙˆÙ†Ù‡)
7. [Migration Ùˆ Schema Changes](#migration-Ùˆ-schema-changes)

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¯ÛŒØªØ§Ø¨ÛŒØ³

### Ø³Ø§Ø®ØªØ§Ø± Ú©Ù„ÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     access_control.db               â”‚
â”‚  - Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†                  â”‚
â”‚  - Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ Ùˆ ØªØ³Ú©â€ŒÙ‡Ø§                â”‚
â”‚  - Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§                        â”‚
â”‚  - ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     faculty_data.db                 â”‚
â”‚  - Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡â€ŒÙ‡Ø§              â”‚
â”‚  - Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†              â”‚
â”‚  - Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ LMS                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ø¯ÛŒØªØ§Ø¨ÛŒØ³ access_control.db

### Ø¬Ø¯ÙˆÙ„ users

```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    email TEXT UNIQUE,
    sso_id TEXT NOT NULL UNIQUE,
    province_code INTEGER,
    university_code INTEGER,
    faculty_code INTEGER
);

CREATE INDEX idx_users_sso_id ON users(sso_id);
CREATE INDEX idx_users_province_code ON users(province_code);
CREATE INDEX idx_users_faculty_code ON users(faculty_code);
```

**ÙÛŒÙ„Ø¯Ù‡Ø§:**
- `id`: Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ©ØªØ§ (Primary Key)
- `name`: Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±
- `email`: Ø§ÛŒÙ…ÛŒÙ„ (Unique)
- `sso_id`: Ø´Ù†Ø§Ø³Ù‡ SSO (Unique, Not Null)
- `province_code`: Ú©Ø¯ Ø§Ø³ØªØ§Ù†
- `university_code`: Ú©Ø¯ Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡
- `faculty_code`: Ú©Ø¯ Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡

### Ø¬Ø¯ÙˆÙ„ access_levels

```sql
CREATE TABLE access_levels (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    level TEXT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_access_levels_user_id ON access_levels(user_id);
```

**ÙÛŒÙ„Ø¯Ù‡Ø§:**
- `id`: Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ©ØªØ§
- `user_id`: Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø± (Foreign Key)
- `level`: Ø³Ø·Ø­ Ø¯Ø³ØªØ±Ø³ÛŒ (admin, central_org, province_university, faculty)

### Ø¬Ø¯ÙˆÙ„ projects

```sql
CREATE TABLE projects (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    title TEXT,
    description TEXT,
    creator_id INTEGER,
    owner_id INTEGER,
    start_date DATETIME,
    end_date DATETIME,
    updated_at DATETIME,
    FOREIGN KEY (creator_id) REFERENCES users(id),
    FOREIGN KEY (owner_id) REFERENCES users(id)
);

CREATE INDEX idx_projects_creator_id ON projects(creator_id);
CREATE INDEX idx_projects_owner_id ON projects(owner_id);
```

### Ø¬Ø¯ÙˆÙ„ project_members

```sql
CREATE TABLE project_members (
    user_id INTEGER NOT NULL,
    project_id INTEGER NOT NULL,
    PRIMARY KEY (user_id, project_id),
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);
```

### Ø¬Ø¯ÙˆÙ„ kanban_columns

```sql
CREATE TABLE kanban_columns (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    project_id INTEGER NOT NULL,
    title TEXT NOT NULL,
    order INTEGER NOT NULL,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);

CREATE INDEX idx_kanban_columns_project_id ON kanban_columns(project_id);
```

### Ø¬Ø¯ÙˆÙ„ kanban_column_users

```sql
CREATE TABLE kanban_column_users (
    column_id INTEGER NOT NULL,
    user_id INTEGER NOT NULL,
    PRIMARY KEY (column_id, user_id),
    FOREIGN KEY (column_id) REFERENCES kanban_columns(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

### Ø¬Ø¯ÙˆÙ„ tasks

```sql
CREATE TABLE tasks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    column_id INTEGER NOT NULL,
    project_id INTEGER,
    title TEXT NOT NULL,
    description TEXT,
    due_date TEXT,
    start_date TEXT,
    FOREIGN KEY (column_id) REFERENCES kanban_columns(id) ON DELETE CASCADE,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);

CREATE INDEX idx_tasks_column_id ON tasks(column_id);
CREATE INDEX idx_tasks_project_id ON tasks(project_id);
```

### Ø¬Ø¯ÙˆÙ„ task_assigned_users

```sql
CREATE TABLE task_assigned_users (
    task_id INTEGER NOT NULL,
    user_id INTEGER NOT NULL,
    PRIMARY KEY (task_id, user_id),
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

### Ø¬Ø¯ÙˆÙ„ labels

```sql
CREATE TABLE labels (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    project_id INTEGER,
    FOREIGN KEY (project_id) REFERENCES projects(id) ON DELETE CASCADE
);
```

### Ø¬Ø¯ÙˆÙ„ label_values

```sql
CREATE TABLE label_values (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    label_id INTEGER NOT NULL,
    value TEXT NOT NULL,
    FOREIGN KEY (label_id) REFERENCES labels(id) ON DELETE CASCADE,
    UNIQUE(label_id, value)
);
```

### Ø¬Ø¯ÙˆÙ„ task_label_assignments

```sql
CREATE TABLE task_label_assignments (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    task_id INTEGER NOT NULL,
    label_id INTEGER NOT NULL,
    label_value_id INTEGER NOT NULL,
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (label_id) REFERENCES labels(id) ON DELETE CASCADE,
    FOREIGN KEY (label_value_id) REFERENCES label_values(id) ON DELETE CASCADE,
    UNIQUE(task_id, label_id)
);
```

### Ø¬Ø¯ÙˆÙ„ reports

```sql
CREATE TABLE reports (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    task_id INTEGER NOT NULL,
    user_id INTEGER NOT NULL,
    text TEXT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (task_id) REFERENCES tasks(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id)
);
```

### Ø¬Ø¯ÙˆÙ„ dashboard_access

```sql
CREATE TABLE dashboard_access (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    dashboard_id TEXT NOT NULL,
    can_access BOOLEAN NOT NULL DEFAULT 1,
    filter_restrictions TEXT,  -- JSON
    date_from DATETIME,
    date_to DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    created_by INTEGER,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id)
);

CREATE INDEX idx_dashboard_access_user_id ON dashboard_access(user_id);
CREATE INDEX idx_dashboard_access_dashboard_id ON dashboard_access(dashboard_id);
```

### Ø¬Ø¯ÙˆÙ„ access_logs

```sql
CREATE TABLE access_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    action TEXT NOT NULL,
    resource_type TEXT,
    resource_id TEXT,
    ip_address TEXT,
    user_agent TEXT,
    request_path TEXT,
    request_method TEXT,
    details TEXT,  -- JSON
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE INDEX idx_access_logs_user_id ON access_logs(user_id);
CREATE INDEX idx_access_logs_action ON access_logs(action);
CREATE INDEX idx_access_logs_created_at ON access_logs(created_at);
```

### Ø¬Ø¯ÙˆÙ„ data_syncs

```sql
CREATE TABLE data_syncs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    data_source TEXT NOT NULL UNIQUE,
    sync_type TEXT NOT NULL,
    status TEXT NOT NULL DEFAULT 'pending',
    auto_sync_enabled BOOLEAN NOT NULL DEFAULT 1,
    sync_interval_value INTEGER NOT NULL DEFAULT 60,
    sync_interval_unit TEXT NOT NULL DEFAULT 'minutes',
    api_base_url TEXT,
    api_endpoint TEXT,
    api_method TEXT NOT NULL DEFAULT 'GET',
    api_username TEXT,
    api_password TEXT,
    api_params TEXT,  -- JSON
    last_sync_at DATETIME,
    next_sync_at DATETIME,
    records_synced INTEGER NOT NULL DEFAULT 0,
    sync_duration_seconds REAL,
    error_message TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_synced_by INTEGER,
    FOREIGN KEY (last_synced_by) REFERENCES users(id)
);

CREATE INDEX idx_data_syncs_data_source ON data_syncs(data_source);
CREATE INDEX idx_data_syncs_status ON data_syncs(status);
```

### Ø¬Ø¯ÙˆÙ„ dashboard_configs

```sql
CREATE TABLE dashboard_configs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    dashboard_id TEXT NOT NULL UNIQUE,
    title TEXT NOT NULL,
    description TEXT,
    icon TEXT,
    order INTEGER NOT NULL DEFAULT 0,
    is_active BOOLEAN NOT NULL DEFAULT 1,
    is_public BOOLEAN NOT NULL DEFAULT 0,
    cache_ttl_seconds INTEGER NOT NULL DEFAULT 300,
    refresh_interval_seconds INTEGER,
    config TEXT,  -- JSON
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    created_by INTEGER,
    FOREIGN KEY (created_by) REFERENCES users(id)
);
```

---

## Ø¯ÛŒØªØ§Ø¨ÛŒØ³ faculty_data.db

### Ø¬Ø¯ÙˆÙ„ faculty

```sql
CREATE TABLE faculty (
    code_markaz TEXT PRIMARY KEY,
    name TEXT,
    province_code INTEGER,
    university_code INTEGER,
    -- Ø³Ø§ÛŒØ± ÙÛŒÙ„Ø¯Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ API
);

CREATE INDEX idx_faculty_province_code ON faculty(province_code);
CREATE INDEX idx_faculty_university_code ON faculty(university_code);
```

### Ø¬Ø¯ÙˆÙ„ students

```sql
CREATE TABLE students (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    student_id TEXT UNIQUE,
    name TEXT,
    faculty_code INTEGER,
    -- Ø³Ø§ÛŒØ± ÙÛŒÙ„Ø¯Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ API
);

CREATE INDEX idx_students_student_id ON students(student_id);
CREATE INDEX idx_students_faculty_code ON students(faculty_code);
```

### Ø¬Ø¯ÙˆÙ„ monitor_data

```sql
CREATE TABLE monitor_data (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    url TEXT NOT NULL,
    timestamp DATETIME NOT NULL,
    key TEXT NOT NULL,
    value INTEGER NOT NULL
);

CREATE INDEX idx_monitor_data_url ON monitor_data(url);
CREATE INDEX idx_monitor_data_timestamp ON monitor_data(timestamp);
CREATE INDEX idx_monitor_data_key ON monitor_data(key);
CREATE INDEX idx_monitor_data_url_timestamp ON monitor_data(url, timestamp);
```

**ÙÛŒÙ„Ø¯Ù‡Ø§:**
- `id`: Ø´Ù†Ø§Ø³Ù‡ ÛŒÚ©ØªØ§
- `url`: URL Ù…Ù†Ø¨Ø¹ (Zone)
- `timestamp`: Ø²Ù…Ø§Ù† Ø«Ø¨Øª
- `key`: Ú©Ù„ÛŒØ¯ Ø¯Ø§Ø¯Ù‡ (online_lms_user, online_adobe_class, ...)
- `value`: Ù…Ù‚Ø¯Ø§Ø±

---

## Ø±ÙˆØ§Ø¨Ø· Ø¨ÛŒÙ† Ø¬Ø¯Ø§ÙˆÙ„

### ER Diagram

```
users
  â”œâ”€â”€ access_levels (1:N)
  â”œâ”€â”€ projects (1:N) [creator]
  â”œâ”€â”€ projects (1:N) [owner]
  â”œâ”€â”€ project_members (N:M)
  â”œâ”€â”€ kanban_column_users (N:M)
  â”œâ”€â”€ task_assigned_users (N:M)
  â”œâ”€â”€ dashboard_access (1:N)
  â”œâ”€â”€ access_logs (1:N)
  â””â”€â”€ data_syncs (1:N) [last_synced_by]

projects
  â”œâ”€â”€ project_members (N:M)
  â”œâ”€â”€ kanban_columns (1:N)
  â””â”€â”€ labels (1:N)

kanban_columns
  â”œâ”€â”€ kanban_column_users (N:M)
  â””â”€â”€ tasks (1:N)

tasks
  â”œâ”€â”€ task_assigned_users (N:M)
  â”œâ”€â”€ task_label_assignments (1:N)
  â””â”€â”€ reports (1:N)

labels
  â”œâ”€â”€ label_values (1:N)
  â””â”€â”€ task_label_assignments (1:N)
```

---

## Index Ù‡Ø§

### Index Ù‡Ø§ÛŒ Ù…Ù‡Ù…

```sql
-- Performance Indexes
CREATE INDEX idx_users_sso_id ON users(sso_id);
CREATE INDEX idx_users_province_code ON users(province_code);
CREATE INDEX idx_users_faculty_code ON users(faculty_code);

CREATE INDEX idx_access_levels_user_id ON access_levels(user_id);

CREATE INDEX idx_projects_creator_id ON projects(creator_id);
CREATE INDEX idx_projects_owner_id ON projects(owner_id);

CREATE INDEX idx_kanban_columns_project_id ON kanban_columns(project_id);

CREATE INDEX idx_tasks_column_id ON tasks(column_id);
CREATE INDEX idx_tasks_project_id ON tasks(project_id);

CREATE INDEX idx_dashboard_access_user_id ON dashboard_access(user_id);
CREATE INDEX idx_dashboard_access_dashboard_id ON dashboard_access(dashboard_id);

CREATE INDEX idx_access_logs_user_id ON access_logs(user_id);
CREATE INDEX idx_access_logs_action ON access_logs(action);
CREATE INDEX idx_access_logs_created_at ON access_logs(created_at);

CREATE INDEX idx_data_syncs_data_source ON data_syncs(data_source);
CREATE INDEX idx_data_syncs_status ON data_syncs(status);

CREATE INDEX idx_monitor_data_url ON monitor_data(url);
CREATE INDEX idx_monitor_data_timestamp ON monitor_data(timestamp);
CREATE INDEX idx_monitor_data_key ON monitor_data(key);
CREATE INDEX idx_monitor_data_url_timestamp ON monitor_data(url, timestamp);
```

---

## Query Ù‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡

### Query Ù‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±ÛŒ

```sql
-- Ø¯Ø±ÛŒØ§ÙØª Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø¯Ø³ØªØ±Ø³ÛŒ Admin
SELECT u.*, al.level
FROM users u
JOIN access_levels al ON u.id = al.user_id
WHERE al.level = 'admin';

-- Ø¯Ø±ÛŒØ§ÙØª Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ú©Ø§Ø±Ø¨Ø±
SELECT p.*
FROM projects p
WHERE p.creator_id = ? OR p.owner_id = ?
   OR EXISTS (
       SELECT 1 FROM project_members pm
       WHERE pm.project_id = p.id AND pm.user_id = ?
   );

-- Ø¯Ø±ÛŒØ§ÙØª ØªØ³Ú©â€ŒÙ‡Ø§ÛŒ ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡
SELECT t.*
FROM tasks t
JOIN kanban_columns kc ON t.column_id = kc.id
WHERE kc.project_id = ?
ORDER BY kc.order, t.id;
```

### Query Ù‡Ø§ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯

```sql
-- Ø¢Ù…Ø§Ø± Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ø³ØªØ§Ù†
SELECT province_code, COUNT(*) as count
FROM faculty
GROUP BY province_code;

-- Ø¢Ù…Ø§Ø± Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡â€ŒÙ‡Ø§ Ø¨Ø§ ÙÛŒÙ„ØªØ±
SELECT province_code, COUNT(*) as count
FROM faculty
WHERE province_code = ?
GROUP BY province_code;

-- Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ LMS Ø¨Ø±Ø§ÛŒ ÛŒÚ© Zone
SELECT timestamp, key, value
FROM monitor_data
WHERE url = ? AND timestamp >= ? AND timestamp <= ?
ORDER BY timestamp ASC;
```

### Query Ù‡Ø§ÛŒ Admin

```sql
-- Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø§Ø®ÛŒØ±
SELECT al.*, u.name as user_name
FROM access_logs al
JOIN users u ON al.user_id = u.id
ORDER BY al.created_at DESC
LIMIT 100;

-- ÙˆØ¶Ø¹ÛŒØª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§
SELECT ds.*, u.name as synced_by_name
FROM data_syncs ds
LEFT JOIN users u ON ds.last_synced_by = u.id
ORDER BY ds.data_source;
```

---

## Migration Ùˆ Schema Changes

### Ø§ÛŒØ¬Ø§Ø¯ Migration

```python
# app/migrations/add_new_column.py
from extensions import db
from app import app

def migrate():
    with app.app_context():
        # Add new column
        db.engine.execute("""
            ALTER TABLE users
            ADD COLUMN phone_number TEXT
        """)
        print("Migration completed: Added phone_number column")
```

### Backup Ù‚Ø¨Ù„ Ø§Ø² Migration

```bash
# Backup database
cp app/access_control.db app/access_control_backup_$(date +%Y%m%d).db

# Run migration
python app/migrations/add_new_column.py

# Verify
sqlite3 app/access_control.db ".schema users"
```

---

## Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø³ÛŒØ³ØªÙ… Ø§Ø³Øª. Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³Ø§Ø®ØªØ§Ø± Ú©Ø§Ù…Ù„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø±Ø§ Ø¯Ø±Ú© Ú©Ø±Ø¯Ù‡ Ùˆ Query Ù‡Ø§ÛŒ Ù…Ù†Ø§Ø³Ø¨ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯.

---

**ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯**: 1404/01/15
**Ù†Ø³Ø®Ù‡**: 1.0.0
**Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡**: ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡




