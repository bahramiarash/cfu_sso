# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… BI

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨
1. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ú©Ù„ÛŒ)
2. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±)
3. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø¯Ø§Ø¯Ù‡)
4. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ù…Ù†ÛŒØª](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø§Ù…Ù†ÛŒØª)
5. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø±](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ø§Ø³ØªÙ‚Ø±Ø§Ø±)
6. [Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ](#Ù…Ø¹Ù…Ø§Ø±ÛŒ-Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ)

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

### Ù†Ù…Ø§ÛŒ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Client Browser                         â”‚
â”‚  (HTTPS, OAuth2, JavaScript, Charts, Maps)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†• HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Flask Application                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Dashboard   â”‚  â”‚  Admin Panel â”‚  â”‚   Kanban     â”‚      â”‚
â”‚  â”‚   System     â”‚  â”‚   System    â”‚  â”‚   System     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  Auth System  â”‚  â”‚ Data Sync   â”‚  â”‚   Cache      â”‚      â”‚
â”‚  â”‚   (SSO)       â”‚  â”‚  Scheduler  â”‚  â”‚   System     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Layer                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  SQLite DB   â”‚  â”‚  SQLite DB   â”‚  â”‚  External    â”‚      â”‚
â”‚  â”‚ (Access Ctrl)â”‚  â”‚ (Faculty Data)â”‚  â”‚   APIs      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±

### 1. Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù„Ø§ÛŒÙ‡â€ŒØ§ÛŒ (Layered Architecture)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: Presentation Layer                    â”‚
â”‚  - Templates (Jinja2)                           â”‚
â”‚  - Static Files (CSS, JS)                       â”‚
â”‚  - Client-side JavaScript                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Application Layer                     â”‚
â”‚  - Flask Routes                                  â”‚
â”‚  - Business Logic                                 â”‚
â”‚  - Dashboard System                              â”‚
â”‚  - Admin Panel                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Service Layer                         â”‚
â”‚  - Data Providers                                â”‚
â”‚  - Authentication Service                        â”‚
â”‚  - Sync Service                                  â”‚
â”‚  - Cache Service                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: Data Access Layer                     â”‚
â”‚  - SQLAlchemy ORM                               â”‚
â”‚  - Database Connections                          â”‚
â”‚  - External API Clients                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 5: Data Storage                           â”‚
â”‚  - SQLite Databases                              â”‚
â”‚  - File System (Sessions, Cache)                â”‚
â”‚  - External APIs                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ø§Ú˜ÙˆÙ„Ø§Ø±

#### 2.1. Ø³Ø§Ø®ØªØ§Ø± Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§

```
app/
â”œâ”€â”€ __init__.py                    # Package initialization
â”œâ”€â”€ app.py                         # Main application
â”œâ”€â”€ models.py                      # Database models
â”œâ”€â”€ admin_models.py                # Admin models
â”œâ”€â”€ auth_utils.py                  # Authentication utilities
â”œâ”€â”€ extensions.py                  # Flask extensions
â”‚
â”œâ”€â”€ dashboards/                    # Dashboard module
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py                    # Base dashboard class
â”‚   â”œâ”€â”€ registry.py                # Dashboard registry
â”‚   â”œâ”€â”€ context.py                 # User context
â”‚   â”œâ”€â”€ config.py                  # Configuration
â”‚   â”œâ”€â”€ cache.py                   # Caching
â”‚   â”œâ”€â”€ api.py                     # API endpoints
â”‚   â”œâ”€â”€ utils.py                   # Utilities
â”‚   â”œâ”€â”€ data_providers/            # Data providers
â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”œâ”€â”€ faculty.py
â”‚   â”‚   â”œâ”€â”€ students.py
â”‚   â”‚   â””â”€â”€ lms.py
â”‚   â”œâ”€â”€ visualizations/            # Visualizations
â”‚   â”‚   â””â”€â”€ maps.py
â”‚   â””â”€â”€ dashboards/                # Dashboard implementations
â”‚       â”œâ”€â”€ faculty_stats.py
â”‚       â”œâ”€â”€ faculty_map.py
â”‚       â”œâ”€â”€ pardis_map.py
â”‚       â”œâ”€â”€ student_faculty_ratio.py
â”‚       â”œâ”€â”€ lms_monitoring.py
â”‚       â””â”€â”€ students_dashboard.py
â”‚
â”œâ”€â”€ admin/                         # Admin module
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ routes.py                  # Admin routes
â”‚   â”œâ”€â”€ utils.py                   # Admin utilities
â”‚   â”œâ”€â”€ scheduler.py                # Sync scheduler
â”‚   â”œâ”€â”€ sync_handlers.py            # Sync handlers
â”‚   â””â”€â”€ sync_progress.py           # Progress tracking
â”‚
â”œâ”€â”€ fetch_data/                    # Data fetching module
â”‚   â”œâ”€â”€ faculty_main.py
â”‚   â”œâ”€â”€ students_main.py
â”‚   â””â”€â”€ lms_sync.py
â”‚
â”œâ”€â”€ templates/                     # Templates
â”‚   â”œâ”€â”€ base.html
â”‚   â”œâ”€â”€ dashboard_list.html
â”‚   â”œâ”€â”€ dashboards/
â”‚   â””â”€â”€ admin/
â”‚
â””â”€â”€ static/                        # Static files
    â”œâ”€â”€ css/
    â”œâ”€â”€ js/
    â””â”€â”€ images/
```

---

### 3. Ù…Ø¹Ù…Ø§Ø±ÛŒ Dashboard System

#### 3.1. Component Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Dashboard Registry                    â”‚
â”‚  (Singleton, Auto-registration)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Base Dashboard                        â”‚
â”‚  (Abstract Class, Template Method)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†•              â†•              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dashboard d1 â”‚ â”‚ Dashboard d2â”‚ â”‚ Dashboard d3â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†•              â†•              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Data Providers                        â”‚
â”‚  (Strategy Pattern)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†•              â†•              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Faculty Data  â”‚ â”‚ Students Data â”‚ â”‚  LMS Data   â”‚
â”‚   Provider   â”‚ â”‚   Provider    â”‚ â”‚   Provider  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2. Sequence Diagram - Dashboard Request

```
User          Route        Registry      Dashboard      Provider      Database
 â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚â”€â”€Requestâ”€â”€â†’  â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚              â”‚â”€â”€get(did)â”€â”€â†’ â”‚              â”‚              â”‚              â”‚
 â”‚              â”‚              â”‚â”€â”€returnâ”€â”€â†’  â”‚              â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚â”€â”€handleâ”€â”€â†’   â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚â”€â”€get_dataâ”€â”€â†’ â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚â†â”€â”€Queryâ”€â”€â”€â”€â”€â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚â†â”€â”€dataâ”€â”€â”€â”€â”€â”€â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚â”€â”€renderâ”€â”€â†’   â”‚              â”‚
 â”‚              â”‚              â”‚              â”‚              â”‚              â”‚
 â”‚â†â”€â”€Responseâ”€â”€â”€â”‚              â”‚              â”‚              â”‚              â”‚
```

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡

### 1. Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

#### 1.1. Database: access_control.db

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           users                         â”‚
â”‚  - id (PK)                              â”‚
â”‚  - name                                 â”‚
â”‚  - email                                â”‚
â”‚  - sso_id (Unique)                      â”‚
â”‚  - province_code                        â”‚
â”‚  - university_code                      â”‚
â”‚  - faculty_code                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        access_levels                   â”‚
â”‚  - id (PK)                              â”‚
â”‚  - level                                â”‚
â”‚  - user_id (FK â†’ users.id)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          projects                       â”‚
â”‚  - id (PK)                              â”‚
â”‚  - title                                â”‚
â”‚  - description                          â”‚
â”‚  - creator_id (FK â†’ users.id)          â”‚
â”‚  - owner_id (FK â†’ users.id)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       kanban_columns                   â”‚
â”‚  - id (PK)                              â”‚
â”‚  - project_id (FK â†’ projects.id)       â”‚
â”‚  - title                                â”‚
â”‚  - order                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           tasks                        â”‚
â”‚  - id (PK)                              â”‚
â”‚  - column_id (FK â†’ kanban_columns.id)  â”‚
â”‚  - title                                â”‚
â”‚  - description                          â”‚
â”‚  - due_date                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      dashboard_access                   â”‚
â”‚  - id (PK)                              â”‚
â”‚  - user_id (FK â†’ users.id)             â”‚
â”‚  - dashboard_id                         â”‚
â”‚  - can_access                           â”‚
â”‚  - filter_restrictions (JSON)           â”‚
â”‚  - date_from                            â”‚
â”‚  - date_to                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         access_logs                     â”‚
â”‚  - id (PK)                              â”‚
â”‚  - user_id (FK â†’ users.id)             â”‚
â”‚  - action                               â”‚
â”‚  - resource_type                        â”‚
â”‚  - resource_id                          â”‚
â”‚  - ip_address                           â”‚
â”‚  - created_at                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         data_syncs                      â”‚
â”‚  - id (PK)                              â”‚
â”‚  - data_source (Unique)                  â”‚
â”‚  - sync_type                            â”‚
â”‚  - status                               â”‚
â”‚  - auto_sync_enabled                    â”‚
â”‚  - sync_interval_value                  â”‚
â”‚  - sync_interval_unit                   â”‚
â”‚  - api_endpoint                         â”‚
â”‚  - api_username                          â”‚
â”‚  - api_password                          â”‚
â”‚  - last_sync_at                         â”‚
â”‚  - next_sync_at                         â”‚
â”‚  - records_synced                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 1.2. Database: faculty_data.db

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          faculty                        â”‚
â”‚  - id (PK)                              â”‚
â”‚  - code_markaz                          â”‚
â”‚  - name                                 â”‚
â”‚  - province_code                        â”‚
â”‚  - university_code                       â”‚
â”‚  - ...                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          students                       â”‚
â”‚  - id (PK)                              â”‚
â”‚  - student_id                           â”‚
â”‚  - faculty_code                         â”‚
â”‚  - ...                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        monitor_data                     â”‚
â”‚  - id (PK)                              â”‚
â”‚  - url                                  â”‚
â”‚  - timestamp                            â”‚
â”‚  - key                                  â”‚
â”‚  - value                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Ø¬Ø±ÛŒØ§Ù† Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

#### 2.1. Data Flow - Dashboard Display

```
External API
    â†“
Data Sync (Scheduler/Manual)
    â†“
faculty_data.db
    â†“
Data Provider
    â†“
Context Filtering
    â†“
Dashboard Processing
    â†“
Cache (optional)
    â†“
Template Rendering
    â†“
User Browser
```

#### 2.2. Data Flow - User Access

```
SSO System
    â†“
User Info
    â†“
User Model (access_control.db)
    â†“
UserContext
    â†“
Access Level Determination
    â†“
Data Filtering Rules
    â†“
Applied to Queries
```

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ù…Ù†ÛŒØª

### 1. Ù„Ø§ÛŒÙ‡â€ŒÙ‡Ø§ÛŒ Ø§Ù…Ù†ÛŒØªÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 1: Network Security             â”‚
â”‚  - HTTPS Only                           â”‚
â”‚  - SSL/TLS Certificates                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 2: Authentication                â”‚
â”‚  - OAuth2 (SSO)                         â”‚
â”‚  - Session Management                    â”‚
â”‚  - CSRF Protection                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 3: Authorization                 â”‚
â”‚  - Role-Based Access Control (RBAC)      â”‚
â”‚  - Context-Based Filtering               â”‚
â”‚  - Dashboard Access Control               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: Data Security                 â”‚
â”‚  - SQL Injection Prevention              â”‚
â”‚  - XSS Prevention                        â”‚
â”‚  - Input Validation                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Authentication Flow

```
User â†’ /login
    â†“
Generate OAuth State (CSRF protection)
    â†“
Redirect to SSO
    â†“
SSO Authentication
    â†“
Callback with Authorization Code
    â†“
Exchange Code for Access Token
    â†“
Get User Info from SSO
    â†“
Create/Update User in Database
    â†“
Create Flask Session
    â†“
Set Flask-Login Session
    â†“
Redirect to Dashboard
```

---

### 3. Authorization Model

```
User
    â†“
Access Levels (from database)
    â†“
UserContext
    â†“
Access Level Enum
    â”œâ”€â”€ CENTRAL_ORG
    â”œâ”€â”€ PROVINCE_UNIVERSITY
    â”œâ”€â”€ FACULTY
    â””â”€â”€ ADMIN
    â†“
Data Filters
    â†“
Applied to Queries
```

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø±

### 1. Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Internet/Network                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Reverse Proxy (Nginx)           â”‚
â”‚  - SSL Termination                       â”‚
â”‚  - Load Balancing (future)              â”‚
â”‚  - Static File Serving                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Flask Application (Waitress)       â”‚
â”‚  - Port: 5000                           â”‚
â”‚  - Workers: 4                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         File System                     â”‚
â”‚  - SQLite Databases                     â”‚
â”‚  - Session Files                         â”‚
â”‚  - Cache Files                           â”‚
â”‚  - Log Files                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      External Services                  â”‚
â”‚  - SSO Server                           â”‚
â”‚  - API Gateway                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2. Process Architecture

```
Main Process (app.py)
    â”œâ”€â”€ Flask Application
    â”œâ”€â”€ Scheduler Thread (Auto-sync)
    â”œâ”€â”€ Sync Worker Threads (on demand)
    â””â”€â”€ Request Handler Threads (Waitress)
```

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù…Ù‚ÛŒØ§Ø³â€ŒÙ¾Ø°ÛŒØ±ÛŒ

### 1. Current Limitations

- **SQLite**: Not suitable for high concurrency
- **Single Process**: No horizontal scaling
- **File-based Cache**: Not shared across instances

### 2. Future Scalability Options

#### 2.1. Database Migration

```
Current: SQLite
    â†“
Option 1: PostgreSQL
    - Better concurrency
    - ACID compliance
    - Replication support

Option 2: MySQL/MariaDB
    - Similar to PostgreSQL
    - Better tooling
```

#### 2.2. Caching Strategy

```
Current: File-based Cache
    â†“
Option 1: Redis
    - In-memory cache
    - Shared across instances
    - Better performance

Option 2: Memcached
    - Similar to Redis
    - Simpler setup
```

#### 2.3. Application Scaling

```
Current: Single Process
    â†“
Option 1: Multiple Workers (Gunicorn)
    - Process-based
    - Better CPU utilization

Option 2: Container Orchestration (Docker/K8s)
    - Horizontal scaling
    - Auto-scaling
    - Load balancing
```

---

## ØªØ§Ø±ÛŒØ®Ú†Ù‡ ØªØºÛŒÛŒØ±Ø§Øª

| ØªØ§Ø±ÛŒØ® | Ù†Ø³Ø®Ù‡ | ØªØºÛŒÛŒØ±Ø§Øª | Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡ |
|------|------|---------|----------|
| 1404/01/XX | 1.0 | Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø³ØªÙ†Ø¯ Ø§ÙˆÙ„ÛŒÙ‡ | ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡ |
