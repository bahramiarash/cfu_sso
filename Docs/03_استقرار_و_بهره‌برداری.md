# Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ùˆ Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… BI Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡

## ğŸ“‹ ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

1. [Ø§Ø³ØªÙ‚Ø±Ø§Ø± (Deployment)](#Ø§Ø³ØªÙ‚Ø±Ø§Ø±-deployment)
2. [Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ (Operations)](#Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ-operations)
3. [Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ (Maintenance)](#Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ-maintenance)
4. [Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ (Monitoring)](#Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯-monitoring)
5. [Backup Ùˆ Recovery](#backup-Ùˆ-recovery)
6. [Troubleshooting](#troubleshooting)

---

## Ø§Ø³ØªÙ‚Ø±Ø§Ø± (Deployment)

### Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§ÛŒ Ø³Ø±ÙˆØ±

#### Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø±

- **CPU**: Ø­Ø¯Ø§Ù‚Ù„ 2 CoreØŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ 4 Core
- **RAM**: Ø­Ø¯Ø§Ù‚Ù„ 4GBØŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ 8GB
- **Storage**: Ø­Ø¯Ø§Ù‚Ù„ 20GBØŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ 50GB SSD
- **Network**: Ø§ØªØµØ§Ù„ Ù¾Ø§ÛŒØ¯Ø§Ø± Ø¨Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª

#### Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±

- **OS**: Windows Server 2019+ ÛŒØ§ Linux (Ubuntu 20.04+)
- **Python**: 3.8 ÛŒØ§ Ø¨Ø§Ù„Ø§ØªØ±
- **Web Server**: Nginx ÛŒØ§ IIS (Ø¨Ø±Ø§ÛŒ Reverse Proxy)
- **Process Manager**: Supervisor ÛŒØ§ Windows Service

### Ù…Ø±Ø§Ø­Ù„ Ø§Ø³ØªÙ‚Ø±Ø§Ø±

#### Ù…Ø±Ø­Ù„Ù‡ 1: Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø³Ø±ÙˆØ±

```bash
# Linux
sudo apt update
sudo apt install python3 python3-pip python3-venv git nginx

# Windows
# Ù†ØµØ¨ Python Ø§Ø² python.org
# Ù†ØµØ¨ Git Ø§Ø² git-scm.com
```

#### Ù…Ø±Ø­Ù„Ù‡ 2: Clone Ù¾Ø±ÙˆÚ˜Ù‡

```bash
git clone <repository-url> /opt/cert2
cd /opt/cert2
```

#### Ù…Ø±Ø­Ù„Ù‡ 3: Ø§ÛŒØ¬Ø§Ø¯ Virtual Environment

```bash
python3 -m venv myenv
source myenv/bin/activate  # Linux
# ÛŒØ§
myenv\Scripts\activate  # Windows
```

#### Ù…Ø±Ø­Ù„Ù‡ 4: Ù†ØµØ¨ Dependencies

```bash
pip install -r requirements.txt
```

#### Ù…Ø±Ø­Ù„Ù‡ 5: ØªÙ†Ø¸ÛŒÙ… Environment Variables

```bash
# Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„ .env
cp .env.example .env
nano .env  # ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ù‚Ø§Ø¯ÛŒØ±
```

#### Ù…Ø±Ø­Ù„Ù‡ 6: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

```bash
cd app
python -c "from app import app; from extensions import db; app.app_context().push(); db.create_all()"
```

#### Ù…Ø±Ø­Ù„Ù‡ 7: Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Admin

```python
# python create_admin.py
from app import app
from extensions import db
from models import User, AccessLevel

with app.app_context():
    admin = User(
        sso_id="admin_username",
        name="Admin User",
        email="admin@example.com"
    )
    db.session.add(admin)
    db.session.flush()
    
    access = AccessLevel(level="admin", user_id=admin.id)
    db.session.add(access)
    db.session.commit()
```

#### Ù…Ø±Ø­Ù„Ù‡ 8: Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¨Ø§ Waitress (Production)

```bash
# Linux
waitress-serve --host=0.0.0.0 --port=5000 app:app

# Windows
python -m waitress --host=0.0.0.0 --port=5000 app:app
```

#### Ù…Ø±Ø­Ù„Ù‡ 9: ØªÙ†Ø¸ÛŒÙ… Nginx (Reverse Proxy)

```nginx
# /etc/nginx/sites-available/bi
server {
    listen 80;
    server_name bi.cfu.ac.ir;
    
    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
    
    location /static {
        alias /opt/cert2/app/static;
    }
}
```

```bash
sudo ln -s /etc/nginx/sites-available/bi /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

#### Ù…Ø±Ø­Ù„Ù‡ 10: ØªÙ†Ø¸ÛŒÙ… SSL (HTTPS)

```bash
# Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Let's Encrypt
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d bi.cfu.ac.ir
```

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¨Ø§ Supervisor (Linux)

```ini
# /etc/supervisor/conf.d/cert2.conf
[program:cert2]
command=/opt/cert2/myenv/bin/waitress-serve --host=0.0.0.0 --port=5000 app:app
directory=/opt/cert2/app
user=www-data
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/cert2/app.log
```

```bash
sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start cert2
```

### Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¨Ø§ Windows Service

```python
# service_install.py
import win32serviceutil
import win32service
import servicemanager
import socket
from app import app
from waitress import serve

class Cert2Service(win32serviceutil.ServiceFramework):
    _svc_name_ = "Cert2BI"
    _svc_display_name_ = "Cert2 BI Service"
    
    def SvcStop(self):
        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)
        self.stop()
        self.ReportServiceStatus(win32service.SERVICE_STOPPED)
    
    def SvcDoRun(self):
        self.start()
    
    def start(self):
        serve(app, host='0.0.0.0', port=5000)
    
    def stop(self):
        pass

if __name__ == '__main__':
    win32serviceutil.HandleCommandLine(Cert2Service)
```

```bash
python service_install.py install
python service_install.py start
```

---

## Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ (Operations)

### Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡

#### Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø³Ø±ÙˆÛŒØ³

```bash
# Linux
sudo systemctl status cert2
# ÛŒØ§
sudo supervisorctl status cert2

# Windows
sc query Cert2BI
```

#### Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§

```bash
# Application Logs
tail -f /var/log/cert2/app.log

# Nginx Logs
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log

# Windows
# Ø¨Ø±Ø±Ø³ÛŒ Event Viewer
```

### Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†

#### Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯

1. ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª: `/admin`
2. Ø±ÙØªÙ† Ø¨Ù‡ "Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"
3. Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯"
4. ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª:
   - SSO ID
   - Ù†Ø§Ù…
   - Ø§ÛŒÙ…ÛŒÙ„
   - Ú©Ø¯ Ø§Ø³ØªØ§Ù†/Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡/Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡ (Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø²)
   - Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ
5. Ø°Ø®ÛŒØ±Ù‡

#### ÙˆÛŒØ±Ø§ÛŒØ´ Ø¯Ø³ØªØ±Ø³ÛŒ Ú©Ø§Ø±Ø¨Ø±

1. Ø±ÙØªÙ† Ø¨Ù‡ "Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†"
2. Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±
3. Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "ÙˆÛŒØ±Ø§ÛŒØ´"
4. ØªØºÛŒÛŒØ± Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ ÛŒØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
5. Ø°Ø®ÛŒØ±Ù‡

### Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

#### ØªÙ†Ø¸ÛŒÙ… Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±

1. ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª: `/admin/data-sync`
2. Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡ (Faculty, Students, LMS)
3. Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "ÙˆÛŒØ±Ø§ÛŒØ´"
4. ØªÙ†Ø¸ÛŒÙ…Ø§Øª:
   - ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø±
   - ØªÙ†Ø¸ÛŒÙ… Interval (Ù…Ø«Ù„Ø§Ù‹ 60 Ø¯Ù‚ÛŒÙ‚Ù‡)
   - ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† API Endpoint
   - ÙˆØ§Ø±Ø¯ Ú©Ø±Ø¯Ù† Username Ùˆ Password
5. ØªØ³Øª Ø§ØªØµØ§Ù„
6. Ø°Ø®ÛŒØ±Ù‡

#### Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø³ØªÛŒ

1. Ø±ÙØªÙ† Ø¨Ù‡ `/admin/data-sync`
2. Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ù†Ø¨Ø¹ Ø¯Ø§Ø¯Ù‡
3. Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø§Ú©Ù†ÙˆÙ†"
4. Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± Ø¬Ø¯ÙˆÙ„

#### Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ

1. Ø±ÙØªÙ† Ø¨Ù‡ `/admin/data-sync/logs`
2. Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±

### Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§

#### ØªÙ†Ø¸ÛŒÙ… Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯

1. Ø±ÙØªÙ† Ø¨Ù‡ `/admin/dashboard-access`
2. Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¬Ø¯ÛŒØ¯"
3. Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±
4. Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
5. ØªÙ†Ø¸ÛŒÙ… ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ (Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø²)
6. Ø°Ø®ÛŒØ±Ù‡

---

## Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ (Maintenance)

### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø³ÛŒØ³ØªÙ…

#### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ú©Ø¯

```bash
cd /opt/cert2
git pull origin main
source myenv/bin/activate
pip install -r requirements.txt
sudo supervisorctl restart cert2
```

#### Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Dependencies

```bash
pip list --outdated
pip install --upgrade <package-name>
# ÛŒØ§
pip install --upgrade -r requirements.txt
```

### Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Cache

```python
# python clear_cache.py
from app import app
from dashboards.cache import DashboardCache

with app.app_context():
    DashboardCache.clear()
    print("Cache cleared")
```

### Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

```sql
-- SQLite Vacuum
VACUUM;

-- Reindex
REINDEX;

-- Analyze
ANALYZE;
```

```python
# python optimize_db.py
import sqlite3

conn = sqlite3.connect('app/access_control.db')
conn.execute('VACUUM')
conn.execute('REINDEX')
conn.close()
```

### Ù¾Ø§Ú©â€ŒØ³Ø§Ø²ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ

```python
# python cleanup_logs.py
from app import app
from admin_models import AccessLog
from datetime import datetime, timedelta

with app.app_context():
    cutoff_date = datetime.utcnow() - timedelta(days=90)
    deleted = AccessLog.query.filter(AccessLog.created_at < cutoff_date).delete()
    db.session.commit()
    print(f"Deleted {deleted} old log entries")
```

---

## Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ (Monitoring)

### Ù…Ø¹ÛŒØ§Ø±Ù‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ

#### Performance Metrics

- **Response Time**: Ø²Ù…Ø§Ù† Ù¾Ø§Ø³Ø® Ø³Ø±ÙˆØ±
- **Throughput**: ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ø¯Ø± Ø«Ø§Ù†ÛŒÙ‡
- **Error Rate**: Ù†Ø±Ø® Ø®Ø·Ø§
- **Cache Hit Rate**: Ù†Ø±Ø® Cache Hit

#### System Metrics

- **CPU Usage**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² CPU
- **Memory Usage**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§ÙØ¸Ù‡
- **Disk Usage**: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¯ÛŒØ³Ú©
- **Network I/O**: ØªØ±Ø§ÙÛŒÚ© Ø´Ø¨Ú©Ù‡

#### Application Metrics

- **Active Users**: Ú©Ø§Ø±Ø¨Ø±Ø§Ù† ÙØ¹Ø§Ù„
- **Dashboard Views**: ØªØ¹Ø¯Ø§Ø¯ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
- **Sync Status**: ÙˆØ¶Ø¹ÛŒØª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒâ€ŒÙ‡Ø§
- **Database Size**: Ø­Ø¬Ù… Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

### Ù…Ø§Ù†ÛŒØªÙˆØ±ÛŒÙ†Ú¯ Ø¨Ø§ Logging

```python
# app/app.py
import logging
from logging.handlers import RotatingFileHandler

if not app.debug:
    file_handler = RotatingFileHandler(
        'logs/app.log',
        maxBytes=10240000,
        backupCount=10
    )
    file_handler.setFormatter(logging.Formatter(
        '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'
    ))
    file_handler.setLevel(logging.INFO)
    app.logger.addHandler(file_handler)
    app.logger.setLevel(logging.INFO)
    app.logger.info('Application startup')
```

### Health Check Endpoint

```python
# app/app.py
@app.route('/health')
def health_check():
    try:
        # Check database
        db.session.execute('SELECT 1')
        
        # Check sync status
        from admin_models import DataSync
        syncs = DataSync.query.filter_by(status='running').count()
        
        return jsonify({
            'status': 'healthy',
            'database': 'connected',
            'active_syncs': syncs
        }), 200
    except Exception as e:
        return jsonify({
            'status': 'unhealthy',
            'error': str(e)
        }), 500
```

---

## Backup Ùˆ Recovery

### Backup Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ø¯Ù‡

#### Backup Ø¯Ø³ØªÛŒ

```bash
# Linux
cp app/access_control.db backups/access_control_$(date +%Y%m%d_%H%M%S).db
cp app/fetch_data/faculty_data.db backups/faculty_data_$(date +%Y%m%d_%H%M%S).db

# Windows
copy app\access_control.db backups\access_control_%date:~-4,4%%date:~-7,2%%date:~-10,2%_%time:~0,2%%time:~3,2%%time:~6,2%.db
```

#### Backup Ø®ÙˆØ¯Ú©Ø§Ø± (Cron Job)

```bash
# crontab -e
0 2 * * * /opt/cert2/scripts/backup.sh
```

```bash
#!/bin/bash
# scripts/backup.sh
BACKUP_DIR="/opt/cert2/backups"
DATE=$(date +%Y%m%d_%H%M%S)

mkdir -p $BACKUP_DIR

# Backup databases
cp /opt/cert2/app/access_control.db $BACKUP_DIR/access_control_$DATE.db
cp /opt/cert2/app/fetch_data/faculty_data.db $BACKUP_DIR/faculty_data_$DATE.db

# Keep only last 30 days
find $BACKUP_DIR -name "*.db" -mtime +30 -delete
```

### Recovery

#### Restore Ø§Ø² Backup

```bash
# ØªÙˆÙ‚Ù Ø³Ø±ÙˆÛŒØ³
sudo supervisorctl stop cert2

# Restore
cp backups/access_control_20240115_020000.db app/access_control.db
cp backups/faculty_data_20240115_020000.db app/fetch_data/faculty_data.db

# Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
sudo supervisorctl start cert2
```

---

## Troubleshooting

### Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ÛŒØ¬

#### 1. Ø®Ø·Ø§ÛŒ "SECRET_KEY not set"

**Ø¹Ù„Øª**: Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ SECRET_KEY ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.

**Ø±Ø§Ù‡â€ŒØ­Ù„**:
```bash
# Ø¨Ø±Ø±Ø³ÛŒ ÙØ§ÛŒÙ„ .env
cat .env | grep SECRET_KEY

# Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ØŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯:
echo "SECRET_KEY=$(python -c 'import secrets; print(secrets.token_hex(32))')" >> .env
```

#### 2. Ø®Ø·Ø§ÛŒ "Database locked"

**Ø¹Ù„Øª**: Ø¯ÛŒØªØ§Ø¨ÛŒØ³ SQLite Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ ØªÙˆØ³Ø· Process Ø¯ÛŒÚ¯Ø±ÛŒ Ø§Ø³Øª.

**Ø±Ø§Ù‡â€ŒØ­Ù„**:
```bash
# Ø¨Ø±Ø±Ø³ÛŒ Process Ù‡Ø§ÛŒ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§
ps aux | grep python

# Kill Process Ù‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ
kill <PID>
```

#### 3. Ø®Ø·Ø§ÛŒ "SSO authentication failed"

**Ø¹Ù„Øª**: ØªÙ†Ø¸ÛŒÙ…Ø§Øª SSO Ù†Ø§Ø¯Ø±Ø³Øª Ø§Ø³Øª.

**Ø±Ø§Ù‡â€ŒØ­Ù„**:
- Ø¨Ø±Ø±Ø³ÛŒ SSO_CLIENT_ID Ùˆ SSO_CLIENT_SECRET Ø¯Ø± .env
- Ø¨Ø±Ø±Ø³ÛŒ SSO_REDIRECT_URI Ø¨Ø§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª SSO Server
- Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±

#### 4. Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„**:
1. Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Sync Ø¯Ø± `/admin/data-sync`
2. Ø¨Ø±Ø±Ø³ÛŒ Error Message
3. ØªØ³Øª Ø§ØªØµØ§Ù„ API
4. Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§ÛŒ Sync
5. Ø¨Ø±Ø±Ø³ÛŒ Network Connectivity

#### 5. Cache Ú©Ø§Ø± Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯

**Ø±Ø§Ù‡â€ŒØ­Ù„**:
```python
# Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Cache
from dashboards.cache import DashboardCache
DashboardCache.clear()

# Ø¨Ø±Ø±Ø³ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
# DASHBOARD_CACHE_ENABLED Ø¨Ø§ÛŒØ¯ true Ø¨Ø§Ø´Ø¯
```

### Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯â€ŒÙ‡Ø§

```bash
# Application Logs
tail -f /var/log/cert2/app.log

# Error Logs
grep ERROR /var/log/cert2/app.log

# Nginx Logs
tail -f /var/log/nginx/error.log
```

---

## Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ

Ø§ÛŒÙ† Ù…Ø³ØªÙ†Ø¯ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ú©Ø§Ù…Ù„ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ùˆ Ø¨Ù‡Ø±Ù‡â€ŒØ¨Ø±Ø¯Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… Ø§Ø³Øª. Ø¨Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ø±Ø§Ù‡Ù†Ù…Ø§ØŒ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø³ÛŒØ³ØªÙ… Ø±Ø§ Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ùˆ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯.

---

**ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯**: 1404/01/15
**Ù†Ø³Ø®Ù‡**: 1.0.0
**Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡**: ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡




