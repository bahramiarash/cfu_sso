# Ø³Ù†Ø¯ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø³ÛŒØ³ØªÙ… - Ø³ÛŒØ³ØªÙ… BI Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡

## ğŸ“ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ú©Ù„ÛŒ

### Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Client Layer (Browser)                    â”‚
â”‚  - HTML/CSS/JavaScript                                       â”‚
â”‚  - Bootstrap RTL                                             â”‚
â”‚  - Chart.js, Plotly                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Application Server (Flask)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Authentication Layer                                 â”‚  â”‚
â”‚  â”‚  - SSO Integration (OAuth2)                           â”‚  â”‚
â”‚  â”‚  - Session Management                                 â”‚  â”‚
â”‚  â”‚  - Access Control                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Business Logic Layer                                â”‚  â”‚
â”‚  â”‚  - Dashboard System                                  â”‚  â”‚
â”‚  â”‚  - Admin Panel                                       â”‚  â”‚
â”‚  â”‚  - Project Management                                â”‚  â”‚
â”‚  â”‚  - Data Sync                                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Data Access Layer                                   â”‚  â”‚
â”‚  â”‚  - Data Providers                                    â”‚  â”‚
â”‚  â”‚  - ORM (SQLAlchemy)                                  â”‚  â”‚
â”‚  â”‚  - Cache System                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Layer                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ access_      â”‚  â”‚ faculty_     â”‚  â”‚ External     â”‚    â”‚
â”‚  â”‚ control.db   â”‚  â”‚ data.db      â”‚  â”‚ API Gateway  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›ï¸ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù„Ø§ÛŒÙ‡â€ŒØ§ÛŒ

### 1. Presentation Layer (Ù„Ø§ÛŒÙ‡ Ù†Ù…Ø§ÛŒØ´)

**Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§:**
- Ø±Ù†Ø¯Ø± Ú©Ø±Ø¯Ù† ØµÙØ­Ø§Øª HTML
- Ù…Ø¯ÛŒØ±ÛŒØª UI/UX
- ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ Ú©Ø§Ø±Ø¨Ø±

**Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§:**
- **Templates**: Jinja2 Templates Ø¯Ø± `app/templates/`
- **Static Files**: CSS, JavaScript, Images Ø¯Ø± `app/static/`
- **Frontend Libraries**: Bootstrap, Chart.js, Plotly

**Ø³Ø§Ø®ØªØ§Ø±:**
```
app/templates/
â”œâ”€â”€ base.html              # Template Ù¾Ø§ÛŒÙ‡
â”œâ”€â”€ index.html             # ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ
â”œâ”€â”€ dashboard_list.html     # Ù„ÛŒØ³Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
â”œâ”€â”€ dashboards/            # Templates Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
â”œâ”€â”€ admin/                 # Templates Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
â””â”€â”€ kanban/                # Templates Kanban
```

### 2. Application Layer (Ù„Ø§ÛŒÙ‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†)

**Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ‡Ø§:**
- Ù…Ø¯ÛŒØ±ÛŒØª Routeâ€ŒÙ‡Ø§
- Business Logic
- Ú©Ù†ØªØ±Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ
- Ù…Ø¯ÛŒØ±ÛŒØª Session

**Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øªâ€ŒÙ‡Ø§:**

#### 2.1. Blueprints

```
app/
â”œâ”€â”€ app.py                 # Main Application
â”œâ”€â”€ dashboard_routes.py    # Dashboard Routes
â”œâ”€â”€ admin/                 # Admin Panel Blueprint
â”‚   â””â”€â”€ routes.py
â”œâ”€â”€ kanban.py             # Kanban Blueprint
â””â”€â”€ students_dashboard.py # Students Dashboard Blueprint
```

#### 2.2. Authentication & Authorization

**Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ Ùˆ ØªÙˆØ§Ø¨Ø¹:**
- `auth_utils.py`: Decorator `@requires_auth`
- `app.py`: Routes `/login`, `/authorized`, `/logout`
- `UserContext`: Ù…Ø¯ÛŒØ±ÛŒØª Context Ú©Ø§Ø±Ø¨Ø±
- `AccessLevel`: Enum Ø³Ø·ÙˆØ­ Ø¯Ø³ØªØ±Ø³ÛŒ

**Ø¬Ø±ÛŒØ§Ù† Ø§Ø­Ø±Ø§Ø² Ù‡ÙˆÛŒØª:**
```
User â†’ /login â†’ SSO Server â†’ /authorized â†’ Session Created â†’ Access Granted
```

### 3. Business Logic Layer (Ù„Ø§ÛŒÙ‡ Ù…Ù†Ø·Ù‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±)

#### 3.1. Dashboard System

**Ù…Ø¹Ù…Ø§Ø±ÛŒ:**
```
dashboards/
â”œâ”€â”€ base.py              # BaseDashboard (Abstract Class)
â”œâ”€â”€ registry.py          # DashboardRegistry (Singleton)
â”œâ”€â”€ context.py           # UserContext Management
â”œâ”€â”€ cache.py             # Caching System
â”œâ”€â”€ config.py            # Configuration
â”œâ”€â”€ utils.py             # Utility Functions
â”œâ”€â”€ data_providers/      # Data Access Layer
â”‚   â”œâ”€â”€ base.py
â”‚   â”œâ”€â”€ faculty.py
â”‚   â”œâ”€â”€ students.py
â”‚   â””â”€â”€ lms.py
â”œâ”€â”€ visualizations/      # Reusable Components
â”‚   â””â”€â”€ maps.py
â””â”€â”€ dashboards/          # Individual Dashboards
    â”œâ”€â”€ faculty_stats.py
    â”œâ”€â”€ faculty_map.py
    â””â”€â”€ ...
```

**Design Patterns:**
- **Registry Pattern**: Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
- **Template Method Pattern**: Ø¯Ø± BaseDashboard
- **Strategy Pattern**: Ø¯Ø± Data Providers
- **Factory Pattern**: Ø¨Ø±Ø§ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§

**Ø¬Ø±ÛŒØ§Ù† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯:**
```
Request â†’ Route Handler â†’ DashboardRegistry.get() 
â†’ Dashboard.handle_request() â†’ UserContext.get() 
â†’ Dashboard.check_access() â†’ Dashboard.get_data() 
â†’ Cache Check â†’ Data Provider â†’ Render Template
```

#### 3.2. Admin Panel

**Ø³Ø§Ø®ØªØ§Ø±:**
```
admin/
â”œâ”€â”€ __init__.py          # Blueprint Definition
â”œâ”€â”€ routes.py            # Admin Routes
â”œâ”€â”€ utils.py             # Admin Utilities
â”œâ”€â”€ scheduler.py         # Auto-sync Scheduler
â”œâ”€â”€ sync_handlers.py     # Sync Handlers
â””â”€â”€ sync_progress.py     # Sync Progress Tracking
```

**Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§:**
- Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
- Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
- Ù…Ø¯ÛŒØ±ÛŒØª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§
- Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù„Ø§Ú¯â€ŒÙ‡Ø§

#### 3.3. Data Synchronization

**Ù…Ø¹Ù…Ø§Ø±ÛŒ:**
```
sync_handlers.py
â”œâ”€â”€ run_sync_by_source()     # Main Sync Function
â”œâ”€â”€ run_lms_sync()           # LMS Specific Sync
â”œâ”€â”€ stop_sync_by_source()    # Stop Sync
â””â”€â”€ _lms_continuous_sync()   # Continuous LMS Sync

scheduler.py
â”œâ”€â”€ start_scheduler()         # Start Auto-sync
â”œâ”€â”€ stop_scheduler()          # Stop Auto-sync
â””â”€â”€ _scheduled_sync()         # Scheduled Task
```

**Ø§Ù†ÙˆØ§Ø¹ Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ:**
1. **Manual Sync**: Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø³ØªÛŒ ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†
2. **Scheduled Sync**: Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± Ø¨Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ø²Ù…Ø§Ù†ÛŒ
3. **Continuous Sync**: Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ù…Ø¯Ø§ÙˆÙ… (ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ LMS)

### 4. Data Access Layer (Ù„Ø§ÛŒÙ‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø¯Ù‡)

#### 4.1. ORM Models

**Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ:**
- `User`: Ú©Ø§Ø±Ø¨Ø±Ø§Ù†
- `Project`: Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÙ‡Ø§
- `Task`: ØªØ³Ú©â€ŒÙ‡Ø§
- `KanbanColumn`: Ø³ØªÙˆÙ†â€ŒÙ‡Ø§ÛŒ Kanban
- `DashboardAccess`: Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯Ù‡Ø§
- `DataSync`: ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ
- `AccessLog`: Ù„Ø§Ú¯ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§

#### 4.2. Data Providers

**BaseDataProvider:**
- `execute_query()`: Ø§Ø¬Ø±Ø§ÛŒ Query Ø¨Ø§ ÙÛŒÙ„ØªØ± Context
- `execute_query_dict()`: Query Ø¨Ø§ Ø®Ø±ÙˆØ¬ÛŒ Dictionary
- `_apply_context_filters()`: Ø§Ø¹Ù…Ø§Ù„ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Context

**Data Providers:**
- `FacultyDataProvider`: Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù†Ø´Ú©Ø¯Ù‡
- `StudentsDataProvider`: Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ù†Ø´Ø¬ÙˆÛŒØ§Ù†
- `LMSDataProvider`: Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ LMS

#### 4.3. Cache System

**DashboardCache:**
- `get(key)`: Ø¯Ø±ÛŒØ§ÙØª Ø§Ø² Cache
- `set(key, value, ttl)`: Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± Cache
- `generate_key()`: ØªÙˆÙ„ÛŒØ¯ Ú©Ù„ÛŒØ¯ Cache

**Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Cache:**
- Cache Key Ø´Ø§Ù…Ù„: dashboard_id, access_level, filters
- TTL Ù¾ÛŒØ´â€ŒÙØ±Ø¶: 300 Ø«Ø§Ù†ÛŒÙ‡ (5 Ø¯Ù‚ÛŒÙ‚Ù‡)
- Cache Ø¯Ø± Memory (Ù‚Ø§Ø¨Ù„ ØªØºÛŒÛŒØ± Ø¨Ù‡ Redis)

---

## ğŸ”„ Ø¬Ø±ÛŒØ§Ù†â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø³ÛŒØ³ØªÙ…

### 1. Ø¬Ø±ÛŒØ§Ù† ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø±

```
1. User â†’ /login
2. Redirect to SSO Server
3. User Authenticates on SSO
4. SSO â†’ /authorized (with code)
5. Exchange code for token
6. Get user info from SSO
7. Create/Update User in DB
8. Create Session
9. Determine Access Level
10. Redirect to Dashboard
```

### 2. Ø¬Ø±ÛŒØ§Ù† Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯

```
1. User â†’ /dashboards/<dashboard_id>
2. Route Handler â†’ DashboardRegistry.get()
3. Get UserContext
4. Check Access Permission
5. Extract Filters from Request
6. Apply User Context Filters
7. Generate Cache Key
8. Check Cache
9. If Cache Miss:
   - Call Dashboard.get_data()
   - Apply Data Provider Filters
   - Fetch from Database
   - Cache Result
10. Render Template with Data
```

### 3. Ø¬Ø±ÛŒØ§Ù† Ù‡Ù…Ú¯Ø§Ù…â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡

```
1. Scheduler Trigger / Manual Trigger
2. Get DataSync Configuration
3. Check API Credentials
4. For Faculty/Students:
   - Login to API Gateway
   - Get Token
   - Call Data Endpoint
   - Process Response
   - Save to Database
5. For LMS:
   - Call LMS Endpoint
   - Process Response
   - Save to Database
6. Update Sync Status
7. Log Action
```

---

## ğŸ” Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø§Ù…Ù†ÛŒØª

### 1. Authentication

**SSO Integration:**
- OAuth2 Flow
- State Parameter Ø¨Ø±Ø§ÛŒ CSRF Protection
- Token Storage Ø¯Ø± Session
- Secure Cookie Settings

**Session Management:**
- Flask-Session Ø¨Ø§ File System Storage
- Secure Cookie Flags
- HttpOnly, SameSite Protection

### 2. Authorization

**Role-Based Access Control (RBAC):**
- AccessLevel Enum
- UserContext Ø¨Ø±Ø§ÛŒ Context-Aware Authorization
- Dashboard Access Control
- Data Filtering Ø¨Ø± Ø§Ø³Ø§Ø³ Context

**Access Control Layers:**
1. Route Level: `@requires_auth`, `@admin_required`
2. Dashboard Level: `check_access()`
3. Data Level: Context Filters Ø¯Ø± Data Providers

### 3. Data Security

**SQL Injection Prevention:**
- Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Parameterized Queries
- SQLAlchemy ORM

**XSS Prevention:**
- Jinja2 Auto-escaping
- Input Validation

---

## ğŸ“Š Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø¯Ø§Ø¯Ù‡

### 1. Database Schema

**access_control.db:**
- Tables: users, projects, tasks, dashboard_access, data_syncs, access_logs
- Relationships: Foreign Keys, Many-to-Many

**faculty_data.db:**
- Tables: faculty, students, lms_data, monitor_data
- Indexes Ø¨Ø±Ø§ÛŒ Performance

### 2. Data Flow

```
External API â†’ Data Sync â†’ faculty_data.db â†’ Data Provider â†’ Dashboard â†’ Cache â†’ User
```

### 3. Caching Strategy

**Cache Levels:**
1. Dashboard Level: Cache Ú©Ù„ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
2. Query Level: Cache Ù†ØªØ§ÛŒØ¬ Query (Ø¢ÛŒÙ†Ø¯Ù‡)

**Cache Invalidation:**
- TTL-based
- Manual Invalidation (Ø¢ÛŒÙ†Ø¯Ù‡)

---

## ğŸ”§ Ù…Ø¹Ù…Ø§Ø±ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒÙ¾Ø°ÛŒØ±ÛŒ

### 1. Modularity

**Separation of Concerns:**
- Ù‡Ø± Ù…Ø§Ú˜ÙˆÙ„ Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ù…Ø´Ø®Øµ Ø¯Ø§Ø±Ø¯
- Ú©Ù…ØªØ±ÛŒÙ† ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒ Ø¨ÛŒÙ† Ù…Ø§Ú˜ÙˆÙ„â€ŒÙ‡Ø§
- Interface-based Design

### 2. Extensibility

**Adding New Dashboard:**
1. Create Dashboard Class (inherit from BaseDashboard)
2. Register with DashboardRegistry
3. Create Template
4. (Optional) Create Data Provider

**Adding New Data Source:**
1. Create Data Provider (inherit from BaseDataProvider)
2. Add Sync Handler
3. Add to DataSync Configuration

### 3. Configuration Management

**Environment Variables:**
- `.env` file Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø³
- Config Classes Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¹Ù…ÙˆÙ…ÛŒ

**Database Configuration:**
- DashboardConfig Table
- DataSync Table

---

## ğŸ“ˆ Performance Considerations

### 1. Caching

- Dashboard Cache Ø¨Ø§ TTL
- Query Result Caching (Ø¢ÛŒÙ†Ø¯Ù‡)

### 2. Database Optimization

- Indexes Ø±ÙˆÛŒ Foreign Keys
- Query Optimization
- Connection Pooling (Ø¢ÛŒÙ†Ø¯Ù‡)

### 3. Frontend Optimization

- Static File Caching
- Minified CSS/JS
- Lazy Loading (Ø¢ÛŒÙ†Ø¯Ù‡)

---

## ğŸ§ª Testing Architecture

### 1. Unit Tests

- Test Data Providers
- Test Dashboard Logic
- Test Utilities

### 2. Integration Tests

- Test Authentication Flow
- Test Dashboard Rendering
- Test Data Sync

### 3. Test Data

- Mock SSO Ø¨Ø±Ø§ÛŒ Testing
- Test Database
- Fixtures

---

## ğŸ“š Design Patterns Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡

1. **Registry Pattern**: DashboardRegistry
2. **Template Method**: BaseDashboard
3. **Strategy Pattern**: Data Providers
4. **Factory Pattern**: Dashboard Creation
5. **Singleton Pattern**: DashboardRegistry
6. **Decorator Pattern**: `@requires_auth`, `@admin_required`
7. **Observer Pattern**: Event Listeners (SQLAlchemy)

---

**ØªØ§Ø±ÛŒØ® Ø¢Ø®Ø±ÛŒÙ† Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ**: 1404/01/15
**Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡**: ØªÛŒÙ… ØªÙˆØ³Ø¹Ù‡



